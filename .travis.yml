language: rust
sudo: false
rust:
  - stable
  - nightly
  - beta

notifications:
  email:
    recipients: paho@paholg.com

before_script:
  - pip install 'travis-cargo<0.2' --user && export PATH=$HOME/.local/bin:$PATH
  - export TRAVIS_CARGO_NIGHTLY_FEATURE=""
script:
  - |
    travis-cargo build &&
    travis-cargo test &&
    travis-cargo --only stable doc

after_success:
  - travis-cargo --only stable doc-upload

env:
  global:
    # GH_TOKEN
    - secure: "rsKiDNN2vSt4UP6ADYtTAWp/bnL7LMLQGQBWM0Ftv0Lx/HEagY78uXUxhXpb5daiCZaFBY1tOoCZrjt7uod+jK8XgfJOaVFuTCXnvIsEQ0sL1FiCtkryf1TClKbh3RzMgQRFbkMkXrS/92wEuxr4kEwEqCB1kkgzjszcBbsAysi9wHvJWA+6Uyba6kRTmYQaNQctIBGQq1jaB34I/d7VSfOuZxT5Ihf4EIx5dDRzEz28xB+jc1aG44FRXVmRoFGn4Qv9FPYaof1DFPtQPFseDbT+nzVBrCVzud1aXApLVoy/hoBBXrELy0rCn8YdVzLAVud9ndg0rh74p0FqIODduRQriSIRlQ7uiSySkijeaGof0soW/G61tAecIeiRhVRRjmAdfUszIiAnaO8Q6UOpD+4BBONnbBfuKr1TbF8k3Lthq9H49jlpnW0LutvTlY+EVIR7VxUEPzBG1Au0c0cYfhHCxNxZaW+M0HFmEUA1eAAAiEPv1FfRrzX50M/LYnOoxQviwKK6aNXfhLn9FC8FZ/SR4CrH46nz2V9uG61lMM+0dYCnSNXoowg6W3LCGP4PaCQccR7yKajoDdO2mE5HDhYugUiNOrwgzHLzgZus5I1ZNICkIZi/HOgiOAOh40iMWVN6xc+uq9jxMdBARBGj7TU47IHya8/uhD1clIVvPzg="
